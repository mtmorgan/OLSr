<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to OLSr • OLSr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to OLSr">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">OLSr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/a_introduction.html">Introduction to OLSr</a></li>
    <li><a class="dropdown-item" href="../articles/b_case_study_cxg.html">Case Study: CELLxGENE Ontologies</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mtmorgan/OLSr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Introduction to OLSr</h1>
                        <h4 data-toc-skip class="author">Martin
Morgan</h4>
            <address class="author_afil">
      Roswell Park Comprehensive Cancer Center, Buffalo, NY,
US<br><small class="dont-index">Source: <a href="https://github.com/mtmorgan/OLSr/blob/main/vignettes/a_introduction.Rmd" class="external-link"><code>vignettes/a_introduction.Rmd</code></a></small>
      <div class="d-none name"><code>a_introduction.Rmd</code></div>
    </address>
</div>

    
    
<p>The <a href="https://www.ebi.ac.uk/ols4/" class="external-link">Ontology Lookup Service</a>
(‘OLS’) is a repository of biomedical ontologies provided by the
European Bioinformatics Institute (EMBL-EBI). <a href="https://mtmorgan.github.io/OLSr">OLSr</a> provides an interface to
the OLS service, allowing discovery of ontologies, terms, and relations.
Results are presented in a ‘tidy’ framework, so that manipulation tasks
are easily accomplished with verbs such as ‘filter()’, ‘select()’, and
‘mutate()’. An effort is made to integrate with other packages useful
for more comprehensive biological and ontological analysis.</p>
<p>Written: 20 November, 2023</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install <a href="https://mtmorgan.github.io/OLSr">OLSr</a> from
GitHub using the <a href="https://CRAN.R-project.org/package=remotes" class="external-link">remotes</a>
package.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="st">"remotes"</span> <span class="cf">in</span> <span class="fu">rownames</span>(<span class="fu">installed.packages</span>()))</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>    <span class="fu">install.packages</span>(<span class="st">"remotes"</span>, <span class="at">repos =</span> <span class="st">"https://cran.r-project.org"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"mtmorgan/OLSr"</span>)</span></code></pre></div>
<p>Attach the library to the current session. Most functions in <a href="https://mtmorgan.github.io/OLSr">OLSr</a> return results as a
<code>tibble</code>, so the <a href="https://CRAN.R-project.org/package=dplyr" class="external-link">dplyr</a> package is
also attached.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mtmorgan.github.io/OLSr/">OLSr</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="ontologies">Ontologies<a class="anchor" aria-label="anchor" href="#ontologies"></a>
</h2>
<p>Start by discovering ontologies available in the OLS.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">onto</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get.html">get_ontologies</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">onto</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 265 × 31</span></span></span>
<span><span class="co">#&gt;    id        title          description version numberOfTerms numberOfProperties</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> ado       Alzheimer's D… Alzheimer'… 2.0.1            <span style="text-decoration: underline;">1</span>963                186</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> afpo      African Popul… AfPO is an… 2024-0…           473                 62</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> agro      Agronomy Onto… AgrO is an… <span style="color: #BB0000;">NA</span>               <span style="text-decoration: underline;">4</span>162                293</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> aism      Ontology for … The ontolo… 2024-0…          <span style="text-decoration: underline;">8</span>540                567</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> amphx     Amphioxus Dev… An ontolog… <span style="color: #BB0000;">NA</span>                403                 10</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> apo       Ascomycete Ph… A structur… 2024-1…           619                 27</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> apollo_sv Apollo Struct… An OWL2 on… 2024-1…          <span style="text-decoration: underline;">1</span>715                396</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> aro       Antibiotic Re… Antibiotic… <span style="color: #BB0000;">NA</span>               <span style="text-decoration: underline;">8</span>526                 25</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> bco       Biological Co… An ontolog… 2021-1…           253                472</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> bfo       Basic Formal … The upper … <span style="color: #BB0000;">NA</span>                 35                 22</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 255 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 25 more variables: numberOfIndividuals &lt;int&gt;, languages &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   loaded &lt;chr&gt;, updated &lt;chr&gt;, versionIri &lt;chr&gt;, namespace &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   preferredPrefix &lt;chr&gt;, homepage &lt;chr&gt;, mailingList &lt;chr&gt;, tracker &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   logo &lt;lgl&gt;, creators &lt;lgl&gt;, annotations &lt;lgl&gt;, fileLocation &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   oboSlims &lt;lgl&gt;, labelProperty &lt;chr&gt;, definitionProperties &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   synonymProperties &lt;list&gt;, hierarchicalProperties &lt;list&gt;, baseUris &lt;list&gt;, …</span></span></span></code></pre></div>
<p>This vignette uses for examples the ontology with title ‘Cell
Ontology’, used by the <a href="https://cellxgene.cziscience.com" class="external-link">CELLxGENE</a> project to
classify cell types. Find the record corresponding to this ontology,
using <code><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse()</a></code> to provide a convenient view of the
ontology description.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">onto</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">title</span> <span class="op">==</span> <span class="st">"Cell Ontology"</span> <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 1</span></span>
<span><span class="co">#&gt; Columns: 31</span></span>
<span><span class="co">#&gt; $ id                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "cl"</span></span>
<span><span class="co">#&gt; $ title                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Cell Ontology"</span></span>
<span><span class="co">#&gt; $ description            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "An ontology of cell types."</span></span>
<span><span class="co">#&gt; $ version                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "2025-01-07"</span></span>
<span><span class="co">#&gt; $ numberOfTerms          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 16637</span></span>
<span><span class="co">#&gt; $ numberOfProperties     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 394</span></span>
<span><span class="co">#&gt; $ numberOfIndividuals    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 18</span></span>
<span><span class="co">#&gt; $ languages              <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> ["en"]</span></span>
<span><span class="co">#&gt; $ loaded                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "2025-01-20T23:16:05.759253163"</span></span>
<span><span class="co">#&gt; $ updated                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "2025-01-20T23:16:05.759253163"</span></span>
<span><span class="co">#&gt; $ versionIri             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "http://purl.obolibrary.org/obo/cl/releases/202…</span></span>
<span><span class="co">#&gt; $ namespace              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "cl"</span></span>
<span><span class="co">#&gt; $ preferredPrefix        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "CL"</span></span>
<span><span class="co">#&gt; $ homepage               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://obophenotype.github.io/cell-ontology/"</span></span>
<span><span class="co">#&gt; $ mailingList            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://groups.google.com/g/cl_edit"</span></span>
<span><span class="co">#&gt; $ tracker                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://github.com/obophenotype/cell-ontology/…</span></span>
<span><span class="co">#&gt; $ logo                   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; $ creators               <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; $ annotations            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; $ fileLocation           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "http://purl.obolibrary.org/obo/cl.owl"</span></span>
<span><span class="co">#&gt; $ oboSlims               <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> FALSE</span></span>
<span><span class="co">#&gt; $ labelProperty          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "http://www.w3.org/2000/01/rdf-schema#label"</span></span>
<span><span class="co">#&gt; $ definitionProperties   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> &lt;NULL&gt;</span></span>
<span><span class="co">#&gt; $ synonymProperties      <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> &lt;NULL&gt;</span></span>
<span><span class="co">#&gt; $ hierarchicalProperties <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> &lt;NULL&gt;</span></span>
<span><span class="co">#&gt; $ baseUris               <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> &lt;NULL&gt;</span></span>
<span><span class="co">#&gt; $ hiddenProperties       <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> &lt;NULL&gt;</span></span>
<span><span class="co">#&gt; $ preferredRootTerms     <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; $ isSkos                 <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> FALSE</span></span>
<span><span class="co">#&gt; $ allowDownload          <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> FALSE</span></span>
<span><span class="co">#&gt; $ `_links`               <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> [["https://www.ebi.ac.uk/ols4/api/ontologies/cl…</span></span></code></pre></div>
<p>Important information includes the ‘id’ of the ontology (used in many
subsequent steps), the ontology home page, and the number of terms in
the ontology.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">onto</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">title</span> <span class="op">==</span> <span class="st">"Cell Ontology"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">homepage</span>, <span class="va">numberOfTerms</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 3</span></span></span>
<span><span class="co">#&gt;   id    homepage                                      numberOfTerms</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                 <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> cl    https://obophenotype.github.io/cell-ontology/         <span style="text-decoration: underline;">16</span>637</span></span></code></pre></div>
<p>Information on individual ontologies is also available with
<code><a href="../reference/get.html">get_ontology()</a></code>; this record includes a link to the ontology
page in the OLS. The home page is a good starting place for
understanding the ontology in a more visual and interactive
environment.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get.html">get_ontology</a></span><span class="op">(</span><span class="st">"cl"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">cl</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 1</span></span>
<span><span class="co">#&gt; Columns: 16</span></span>
<span><span class="co">#&gt; $ languages           <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> "en"</span></span>
<span><span class="co">#&gt; $ lang                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "en"</span></span>
<span><span class="co">#&gt; $ ontologyId          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "cl"</span></span>
<span><span class="co">#&gt; $ loaded              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "2025-01-20T23:16:05.759253163"</span></span>
<span><span class="co">#&gt; $ updated             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "2025-01-20T23:16:05.759253163"</span></span>
<span><span class="co">#&gt; $ status              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "LOADED"</span></span>
<span><span class="co">#&gt; $ message             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> ""</span></span>
<span><span class="co">#&gt; $ version             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "2025-01-07"</span></span>
<span><span class="co">#&gt; $ fileHash            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; $ loadAttempts        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 0</span></span>
<span><span class="co">#&gt; $ numberOfTerms       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 16637</span></span>
<span><span class="co">#&gt; $ numberOfProperties  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 394</span></span>
<span><span class="co">#&gt; $ numberOfIndividuals <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 18</span></span>
<span><span class="co">#&gt; $ config              <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> "cl"</span></span>
<span><span class="co">#&gt; $ baseUris            <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> &lt;NULL&gt;</span></span>
<span><span class="co">#&gt; $ `_links`            <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> ["https://www.ebi.ac.uk/ols4/api/ontologies/cl?la…</span></span>
<span></span>
<span><span class="va">cl</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="st">"_links"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [[1]]$href</span></span>
<span><span class="co">#&gt; [1] "https://www.ebi.ac.uk/ols4/api/ontologies/cl?lang=en"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="terms">Terms<a class="anchor" aria-label="anchor" href="#terms"></a>
</h2>
<p>Terms are central to using an ontology. Retrieve all terms from the
‘cl’ ontology. By default, only terms defined in the ontology <em>per
se</em> are used; add the argument <code>all_ontologies = TRUE</code> to
this and subsequent functions to also include terms referenced in other
ontologies. This query can take several minutes to complete when first
executed, but the result is cached locally (as discussed in greater
detail below) so subsequent use is quick.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">terms</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get.html">get_terms</a></span><span class="op">(</span><span class="st">"cl"</span><span class="op">)</span></span>
<span><span class="va">terms</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2,861 × 13</span></span></span>
<span><span class="co">#&gt;    label  obo_id description iri   synonyms annotation   has_children short_form</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> mesen… CL:40… Any mesenc… http… <span style="color: #949494;">&lt;list&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> FALSE        CL_4040004</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> mesen… CL:40… A mesenchy… http… <span style="color: #949494;">&lt;list&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> FALSE        CL_4040005</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> derma… CL:40… A chromato… http… <span style="color: #949494;">&lt;NULL&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> FALSE        CL_4040006</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> TAC3-… CL:40… A GABAergi… http… <span style="color: #949494;">&lt;list&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> FALSE        CL_4042001</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> TAC3-… CL:40… A nucleus … http… <span style="color: #949494;">&lt;list&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> FALSE        CL_4042002</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> borde… CL:40… A central … http… <span style="color: #949494;">&lt;list&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> TRUE         CL_4042003</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> choro… CL:40… A choroid … http… <span style="color: #949494;">&lt;list&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> FALSE        CL_4042004</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> strom… CL:40… A choroid … http… <span style="color: #949494;">&lt;list&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> FALSE        CL_4042005</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> dural… CL:40… A border a… http… <span style="color: #949494;">&lt;list&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> FALSE        CL_4042006</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> proto… CL:40… An astrocy… http… <span style="color: #949494;">&lt;NULL&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> FALSE        CL_4042007</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2,851 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: in_subset &lt;list&gt;, obo_definition_citation &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   obo_xref &lt;list&gt;, obo_synonym &lt;list&gt;, `_links` &lt;list&gt;</span></span></span></code></pre></div>
<p>Glimpse the second term to get a sense of available information.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">terms</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 1</span></span>
<span><span class="co">#&gt; Columns: 13</span></span>
<span><span class="co">#&gt; $ label                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "mesenchymal stem cell of orbital adipose tiss…</span></span>
<span><span class="co">#&gt; $ obo_id                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "CL:4040004"</span></span>
<span><span class="co">#&gt; $ description             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Any mesenchymal stem cell of adipose tissue t…</span></span>
<span><span class="co">#&gt; $ iri                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "http://purl.obolibrary.org/obo/CL_4040004"</span></span>
<span><span class="co">#&gt; $ synonyms                <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> ["OAMSC", "Orbital ASCs", "orbital adipose-der…</span></span>
<span><span class="co">#&gt; $ annotation              <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> [["https://orcid.org/0000-0002-0819-0473"], ["…</span></span>
<span><span class="co">#&gt; $ has_children            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> FALSE</span></span>
<span><span class="co">#&gt; $ short_form              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "CL_4040004"</span></span>
<span><span class="co">#&gt; $ in_subset               <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> ["human_subset", "mouse_subset"]</span></span>
<span><span class="co">#&gt; $ obo_definition_citation <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> [["Any mesenchymal stem cell of adipose tissu…</span></span>
<span><span class="co">#&gt; $ obo_xref                <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> &lt;NULL&gt;</span></span>
<span><span class="co">#&gt; $ obo_synonym             <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> [["OAMSC", "hasExactSynonym", &lt;NULL&gt;, [["PMID…</span></span>
<span><span class="co">#&gt; $ `_links`                <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> [["https://www.ebi.ac.uk/ols4/api/ontologies/c…</span></span></code></pre></div>
<div class="section level3">
<h3 id="hierarchical-data">Hierarchical data<a class="anchor" aria-label="anchor" href="#hierarchical-data"></a>
</h3>
<p>Some columns in the <code>terms</code> table represent hieararchical
(relational, 1:many mapping) data, e.g., the <code>in_subset</code>
column</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">terms</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">label</span>, <span class="va">obo_id</span>, <span class="va">in_subset</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2,861 × 3</span></span></span>
<span><span class="co">#&gt;    label                                           obo_id     in_subset </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> mesenchymal stem cell of orbital adipose tissue CL:4040004 <span style="color: #949494;">&lt;list [2]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> mesenchymal stem cell of apical papilla         CL:4040005 <span style="color: #949494;">&lt;list [2]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> dermal chromatophore                            CL:4040006 <span style="color: #949494;">&lt;list [2]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> TAC3-positive striatal interneuron              CL:4042001 <span style="color: #949494;">&lt;list [2]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> TAC3-positive medium spiny neuron               CL:4042002 <span style="color: #949494;">&lt;list [2]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> border associated macrophage                    CL:4042003 <span style="color: #949494;">&lt;list [2]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> choroid epiplexus macrophage                    CL:4042004 <span style="color: #949494;">&lt;list [2]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> stromal choroid plexus macrophage               CL:4042005 <span style="color: #949494;">&lt;list [2]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> dural macrophage                                CL:4042006 <span style="color: #949494;">&lt;list [2]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> protoplasmic astrocyte                          CL:4042007 <span style="color: #949494;">&lt;list [2]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2,851 more rows</span></span></span></code></pre></div>
<p>Individual terms apparently belong to 0 or more subsets.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">terms</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lengths.html" class="external-link">lengths</a></span><span class="op">(</span><span class="va">in_subset</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 7 × 2</span></span></span>
<span><span class="co">#&gt;   `lengths(in_subset)`     n</span></span>
<span><span class="co">#&gt;                  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>                    0   141</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>                    1    38</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>                    2  <span style="text-decoration: underline;">1</span>604</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>                    3   735</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>                    4   282</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>                    5    58</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span>                    6     3</span></span></code></pre></div>
<p>The R for Data Science chapter on <a href="https://r4ds.hadley.nz/rectangling" class="external-link">hierarchical data</a> suggests
using <a href="https://CRAN.R-project.org/package=tidyr" class="external-link">tidyr</a>
functions <code>unnest_wider()</code> and <code>unnest_longer()</code>
to expand such data.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">terms</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">in_subset</span>, <span class="va">obo_id</span>, <span class="va">label</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest_longer.html" class="external-link">unnest_longer</a></span><span class="op">(</span><span class="va">in_subset</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6,887 × 3</span></span></span>
<span><span class="co">#&gt;    in_subset    obo_id     label                                          </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> human_subset CL:4040004 mesenchymal stem cell of orbital adipose tissue</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> mouse_subset CL:4040004 mesenchymal stem cell of orbital adipose tissue</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> human_subset CL:4040005 mesenchymal stem cell of apical papilla        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> mouse_subset CL:4040005 mesenchymal stem cell of apical papilla        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> human_subset CL:4040006 dermal chromatophore                           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> mouse_subset CL:4040006 dermal chromatophore                           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> human_subset CL:4042001 TAC3-positive striatal interneuron             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> mouse_subset CL:4042001 TAC3-positive striatal interneuron             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> human_subset CL:4042002 TAC3-positive medium spiny neuron              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> mouse_subset CL:4042002 TAC3-positive medium spiny neuron              </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 6,877 more rows</span></span></span></code></pre></div>
<p>Defined subsets and the number of terms in each can be computed
as</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">terms</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest_longer.html" class="external-link">unnest_longer</a></span><span class="op">(</span><span class="va">in_subset</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">in_subset</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 12 × 2</span></span></span>
<span><span class="co">#&gt;    in_subset                         n</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> mouse_subset                   <span style="text-decoration: underline;">2</span>689</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> human_subset                   <span style="text-decoration: underline;">2</span>674</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> cellxgene_subset                801</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> human_reference_atlas           480</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> location_grouping                65</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> BDS_subset                       64</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> blood_and_immune_upper_slim      36</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> eye_upper_slim                   24</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> general_cell_types_upper_slim    24</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> kidney_upper_slim                19</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> added_for_HCA                     8</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> _upper_level                      3</span></span></code></pre></div>
<p>Use <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter()</a></code> with a helper function that summarizes
subsets of individual terms to identify the
<code>human_reference_atlas</code> subset. Using <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply()</a></code>
(rather than, e.g., <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply()</a></code>) can be considered a best
practice, so that the filter function is guaranteed to return a scalar
logical value regardless of input length.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">is_human_reference_atlas</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply</a></span><span class="op">(</span><span class="va">x</span>, \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"human_reference_atlas"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">human_reference_atlas</span> <span class="op">&lt;-</span></span>
<span>    <span class="va">terms</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu">is_human_reference_atlas</span><span class="op">(</span><span class="va">in_subset</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">human_reference_atlas</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 480 × 13</span></span></span>
<span><span class="co">#&gt;    label  obo_id description iri   synonyms annotation   has_children short_form</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> brain… CL:40… <span style="color: #949494;">"</span>A cell th… http… <span style="color: #949494;">&lt;NULL&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> FALSE        CL_4023072</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> mammi… CL:40… <span style="color: #949494;">"</span>A neuron … http… <span style="color: #949494;">&lt;NULL&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> FALSE        CL_4023074</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> midbr… CL:40… <span style="color: #949494;">"</span>A GABAerg… http… <span style="color: #949494;">&lt;NULL&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> FALSE        CL_4023079</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> midge… CL:40… <span style="color: #949494;">"</span>A retinal… http… <span style="color: #949494;">&lt;NULL&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> TRUE         CL_4023188</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> paras… CL:40… <span style="color: #949494;">"</span>A retinal… http… <span style="color: #949494;">&lt;list&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> TRUE         CL_4023189</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> alveo… CL:40… <span style="color: #949494;">"</span>An alveol… http… <span style="color: #949494;">&lt;list&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> FALSE        CL_4028002</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> alveo… CL:40… <span style="color: #949494;">"</span>An alveol… http… <span style="color: #949494;">&lt;list&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> FALSE        CL_4028003</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> alveo… CL:40… <span style="color: #949494;">"</span>A pulmona… http… <span style="color: #949494;">&lt;list&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> FALSE        CL_4028004</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> alveo… CL:40… <span style="color: #949494;">"</span>A pulmona… http… <span style="color: #949494;">&lt;list&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> FALSE        CL_4028006</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> fallo… CL:40… <span style="color: #949494;">"</span>An epithe… http… <span style="color: #949494;">&lt;list&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> FALSE        CL_4030006</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 470 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: in_subset &lt;list&gt;, obo_definition_citation &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   obo_xref &lt;list&gt;, obo_synonym &lt;list&gt;, `_links` &lt;list&gt;</span></span></span></code></pre></div>
<p>There are 480 terms in the <code>human_reference_atlas</code>
subset.</p>
</div>
<div class="section level3">
<h3 id="individual-terms">Individual terms<a class="anchor" aria-label="anchor" href="#individual-terms"></a>
</h3>
<p>Suppose we are interested in B cells. Discover term labels starting
with <code>"B cell"</code>, selecting useful fields for display. For
subsequent work, create a variable capturing the <code>obo_id</code> of
the <code>"B cell"</code> term.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">terms</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/startsWith.html" class="external-link">startsWith</a></span><span class="op">(</span><span class="va">label</span>, <span class="st">"B cell"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">label</span>, <span class="va">obo_id</span>, <span class="va">description</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span></span>
<span><span class="co">#&gt;   label                                   obo_id     description                </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> B cell                                  CL:0000236 A lymphocyte of B lineage …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> B cell, CD19-positive                   CL:0001201 A B cell that is CD19-posi…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> B cell of appendix                      CL:0009032 A B cell that is located i…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> B cell of medullary sinus of lymph node CL:0009045 A B cell found in the lymp…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> B cell of anorectum                     CL:0009050 A B cell that is located i…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> B cell zone reticular cell              CL:0009104 A fibroblastic reticular c…</span></span>
<span><span class="va">b_cell</span> <span class="op">&lt;-</span> <span class="co"># "CL:0000236"</span></span>
<span>    <span class="va">terms</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">label</span> <span class="op">==</span> <span class="st">"B cell"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">obo_id</span><span class="op">)</span></span></code></pre></div>
<p>Slightly richer information on individual terms is available with
<code><a href="../reference/get.html">get_term()</a></code>, using the ontology <code>id</code> and term
<code>obo_id</code> as keys.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get.html">get_term</a></span><span class="op">(</span><span class="st">"cl"</span>, <span class="va">b_cell</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 1</span></span>
<span><span class="co">#&gt; Columns: 22</span></span>
<span><span class="co">#&gt; $ obo_id                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "CL:0000236"</span></span>
<span><span class="co">#&gt; $ label                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "B cell"</span></span>
<span><span class="co">#&gt; $ description             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "A lymphocyte of B lineage that is capable of …</span></span>
<span><span class="co">#&gt; $ iri                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "http://purl.obolibrary.org/obo/CL_0000236"</span></span>
<span><span class="co">#&gt; $ lang                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "en"</span></span>
<span><span class="co">#&gt; $ synonyms                <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> ["B lymphocyte", "B-cell", "B-lymphocyte"]</span></span>
<span><span class="co">#&gt; $ annotation              <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> [["BTO:0000776", "CALOHA:TS-0068", "FMA:62869"…</span></span>
<span><span class="co">#&gt; $ ontology_name           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "cl"</span></span>
<span><span class="co">#&gt; $ ontology_prefix         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "CL"</span></span>
<span><span class="co">#&gt; $ ontology_iri            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "http://purl.obolibrary.org/obo/cl.owl"</span></span>
<span><span class="co">#&gt; $ is_obsolete             <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> FALSE</span></span>
<span><span class="co">#&gt; $ term_replaced_by        <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; $ is_defining_ontology    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> TRUE</span></span>
<span><span class="co">#&gt; $ has_children            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> TRUE</span></span>
<span><span class="co">#&gt; $ is_root                 <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> FALSE</span></span>
<span><span class="co">#&gt; $ short_form              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "CL_0000236"</span></span>
<span><span class="co">#&gt; $ in_subset               <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> ["blood_and_immune_upper_slim", "cellxgene_sub…</span></span>
<span><span class="co">#&gt; $ obo_definition_citation <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> [["A lymphocyte of B lineage that is capable o…</span></span>
<span><span class="co">#&gt; $ obo_xref                <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> [["BTO", "0000776", &lt;NULL&gt;, "http://purl.oboli…</span></span>
<span><span class="co">#&gt; $ obo_synonym             <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; $ is_preferred_root       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> FALSE</span></span>
<span><span class="co">#&gt; $ `_links`                <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> [["https://www.ebi.ac.uk/ols4/api/ontologies/…</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="relatives">Relatives<a class="anchor" aria-label="anchor" href="#relatives"></a>
</h2>
<p>The functions <code><a href="../reference/get.html">get_parents()</a></code> and
<code><a href="../reference/get.html">get_children()</a></code> retrieve parent and child terms of
individual terms; <code><a href="../reference/get.html">get_ancestors()</a></code> and
<code><a href="../reference/get.html">get_descendants()</a></code> return all ancestors (to the root of the
ontology) or descendants (where the final term repreents a leaf). For B
cells the ancestors are</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">b_cell_ancestors</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu"><a href="../reference/get.html">get_ancestors</a></span><span class="op">(</span><span class="st">"cl"</span>, <span class="va">b_cell</span><span class="op">)</span></span></code></pre></div>
<p>Ancestors and descendants also contain the <code>in_subset</code>
column, so these groups are easily filtered to a particlur subset,
e.g.,</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">b_cell_ancestors</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu">is_human_reference_atlas</span><span class="op">(</span><span class="va">in_subset</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 14</span></span></span>
<span><span class="co">#&gt;   obo_id     label  description iri   synonyms annotation   has_children is_root</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> CL:0000945 lymph… A lymphocy… http… <span style="color: #949494;">&lt;NULL&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> TRUE         FALSE  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> CL:0000542 lymph… A lymphocy… http… <span style="color: #949494;">&lt;NULL&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> TRUE         FALSE  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> CL:0000738 leuko… An achroma… http… <span style="color: #949494;">&lt;list&gt;</span>   <span style="color: #949494;">&lt;named list&gt;</span> TRUE         FALSE  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 6 more variables: short_form &lt;chr&gt;, in_subset &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   obo_definition_citation &lt;list&gt;, obo_xref &lt;list&gt;, obo_synonym &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `_links` &lt;list&gt;</span></span></span></code></pre></div>
<p>Terms without children or descendants return a tibble without any
rows.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get.html">get_children</a></span><span class="op">(</span><span class="st">"cl"</span>, <span class="st">"CL:0002350"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 0 × 0</span></span></span>
<span><span class="fu"><a href="../reference/get.html">get_descendants</a></span><span class="op">(</span><span class="st">"cl"</span>, <span class="st">"CL:0002350"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 0 × 0</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="graphs">Graphs<a class="anchor" aria-label="anchor" href="#graphs"></a>
</h2>
<p>See the <a href="./case_study_cxg.html">Case Study: CELLxGENE
Ontologies</a> vignette for illustration of ancestors and descendants
graphs.</p>
</div>
<div class="section level2">
<h2 id="cache-management">Cache management<a class="anchor" aria-label="anchor" href="#cache-management"></a>
</h2>
<p>OLSr uses an on-disk cache to improve performance and reliability.
Each query to the OLS server is cached on first use, so that subsequent
responses can be read from the local disk. This greatly increases
performance, and allows use of previously retrieved resources when
off-line.</p>
<p>OLSr uses the <a href="https://CRAN.R-project.org/package=memoise" class="external-link">memoise</a> and <a href="https://CRAN.R-project.org/package=cachem" class="external-link">cachem</a> packages to
implement the cache. The disk cache is implemented using cachem’s
<code>cache_disk()</code> function using the default cache size (1 Gb)
and <code>"lsu"</code> (‘least recently used’) eviction policy. Objects
remain in the cache for 30 days.</p>
<p>A risk of using a cache is that the cache contains an ‘old’ version
of the response. Circumvent this risk by manually manipulating the
cache, e.g., removing objects that a known to be too old.</p>
<p>Use <code><a href="../reference/cache.html">cache_directory()</a></code> to discover the location of the
cache.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/cache.html">cache_directory</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "/home/runner/.cache/R/OLSr"</span></span></code></pre></div>
<p>This location follows conventions of
<code><a href="https://rdrr.io/r/tools/userdir.html" class="external-link">tools::R_user_dir()</a></code>. All files in this directory have been
created by <a href="https://mtmorgan.github.io/OLSr">OLSr</a>.</p>
<p><code><a href="../reference/cache.html">cache_info()</a></code> is a convenience function to summarize
files in the cache.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/cache.html">cache_info</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 96 × 5</span></span></span>
<span><span class="co">#&gt;    file         size mtime               ctime               atime              </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 03d5b9987d…   808 2025-01-23 <span style="color: #949494;">18:44:27</span> 2025-01-23 <span style="color: #949494;">18:44:27</span> 2025-01-23 <span style="color: #949494;">18:44:27</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 06f6277f34…   154 2025-01-23 <span style="color: #949494;">18:44:17</span> 2025-01-23 <span style="color: #949494;">18:44:17</span> 2025-01-23 <span style="color: #949494;">18:44:17</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 09405ddbab…   768 2025-01-23 <span style="color: #949494;">18:44:27</span> 2025-01-23 <span style="color: #949494;">18:44:27</span> 2025-01-23 <span style="color: #949494;">18:44:27</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 09f0d0cb75…   720 2025-01-23 <span style="color: #949494;">18:44:04</span> 2025-01-23 <span style="color: #949494;">18:44:04</span> 2025-01-23 <span style="color: #949494;">18:44:04</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 1019c9f790…   154 2025-01-23 <span style="color: #949494;">18:44:20</span> 2025-01-23 <span style="color: #949494;">18:44:20</span> 2025-01-23 <span style="color: #949494;">18:44:20</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 1152719177… <span style="text-decoration: underline;">21</span>100 2025-01-23 <span style="color: #949494;">18:44:01</span> 2025-01-23 <span style="color: #949494;">18:44:01</span> 2025-01-23 <span style="color: #949494;">18:44:01</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 13938f8890…  <span style="text-decoration: underline;">5</span>996 2025-01-23 <span style="color: #949494;">18:44:38</span> 2025-01-23 <span style="color: #949494;">18:44:38</span> 2025-01-23 <span style="color: #949494;">18:44:38</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 1d41ffdf45…   154 2025-01-23 <span style="color: #949494;">18:44:24</span> 2025-01-23 <span style="color: #949494;">18:44:24</span> 2025-01-23 <span style="color: #949494;">18:44:24</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 1d4576da3a…  <span style="text-decoration: underline;">1</span>407 2025-01-23 <span style="color: #949494;">18:44:12</span> 2025-01-23 <span style="color: #949494;">18:44:12</span> 2025-01-23 <span style="color: #949494;">18:44:12</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 236f616b89…   154 2025-01-23 <span style="color: #949494;">18:44:14</span> 2025-01-23 <span style="color: #949494;">18:44:14</span> 2025-01-23 <span style="color: #949494;">18:44:14</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 86 more rows</span></span></span></code></pre></div>
<p>Each file represents the response to a single memoised function call.
The file name is a hash of the function definition and arguments; it is
not possible to associate individual files with specific function calls.
Nonetheless, it can be informative to identify files modified more than,
say 1 day ago, or the most recently modified file, or perhaps the total
size of files in the cache.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## cache objects modified in the last 24 hours</span></span>
<span><span class="fu"><a href="../reference/cache.html">cache_info</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">mtime</span> <span class="op">&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fl">24</span> <span class="op">*</span> <span class="fl">60</span> <span class="op">*</span> <span class="fl">60</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 96 × 5</span></span></span>
<span><span class="co">#&gt;    file         size mtime               ctime               atime              </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 03d5b9987d…   808 2025-01-23 <span style="color: #949494;">18:44:27</span> 2025-01-23 <span style="color: #949494;">18:44:27</span> 2025-01-23 <span style="color: #949494;">18:44:27</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 06f6277f34…   154 2025-01-23 <span style="color: #949494;">18:44:17</span> 2025-01-23 <span style="color: #949494;">18:44:17</span> 2025-01-23 <span style="color: #949494;">18:44:17</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 09405ddbab…   768 2025-01-23 <span style="color: #949494;">18:44:27</span> 2025-01-23 <span style="color: #949494;">18:44:27</span> 2025-01-23 <span style="color: #949494;">18:44:27</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 09f0d0cb75…   720 2025-01-23 <span style="color: #949494;">18:44:04</span> 2025-01-23 <span style="color: #949494;">18:44:04</span> 2025-01-23 <span style="color: #949494;">18:44:04</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 1019c9f790…   154 2025-01-23 <span style="color: #949494;">18:44:20</span> 2025-01-23 <span style="color: #949494;">18:44:20</span> 2025-01-23 <span style="color: #949494;">18:44:20</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 1152719177… <span style="text-decoration: underline;">21</span>100 2025-01-23 <span style="color: #949494;">18:44:01</span> 2025-01-23 <span style="color: #949494;">18:44:01</span> 2025-01-23 <span style="color: #949494;">18:44:01</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 13938f8890…  <span style="text-decoration: underline;">5</span>996 2025-01-23 <span style="color: #949494;">18:44:38</span> 2025-01-23 <span style="color: #949494;">18:44:38</span> 2025-01-23 <span style="color: #949494;">18:44:38</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 1d41ffdf45…   154 2025-01-23 <span style="color: #949494;">18:44:24</span> 2025-01-23 <span style="color: #949494;">18:44:24</span> 2025-01-23 <span style="color: #949494;">18:44:24</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 1d4576da3a…  <span style="text-decoration: underline;">1</span>407 2025-01-23 <span style="color: #949494;">18:44:12</span> 2025-01-23 <span style="color: #949494;">18:44:12</span> 2025-01-23 <span style="color: #949494;">18:44:12</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 236f616b89…   154 2025-01-23 <span style="color: #949494;">18:44:14</span> 2025-01-23 <span style="color: #949494;">18:44:14</span> 2025-01-23 <span style="color: #949494;">18:44:14</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 86 more rows</span></span></span>
<span></span>
<span><span class="co">## most recently modified file</span></span>
<span><span class="fu"><a href="../reference/cache.html">cache_info</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">mtime</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 5</span></span></span>
<span><span class="co">#&gt;   file          size mtime               ctime               atime              </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 4e9479c7fcf…   154 2025-01-23 <span style="color: #949494;">18:44:38</span> 2025-01-23 <span style="color: #949494;">18:44:38</span> 2025-01-23 <span style="color: #949494;">18:44:38</span></span></span>
<span></span>
<span><span class="co">## total cache size</span></span>
<span><span class="fu"><a href="../reference/cache.html">cache_info</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">size</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">size</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/structure.html" class="external-link">structure</a></span><span class="op">(</span>class <span class="op">=</span> <span class="st">"object_size"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span>units <span class="op">=</span> <span class="st">"auto"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "4.2 Mb"</span></span></code></pre></div>
<p>In special cases it may be useful to invalidate the cache using
<code><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink()</a></code> on the <code><a href="../reference/cache.html">cache_directory()</a></code>, or on
invalidate particular records using <code><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink()</a></code> on file paths
created using <code><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path()</a></code>, <code><a href="../reference/cache.html">cache_directory()</a></code>
and individual <code>file</code> names from
<code><a href="../reference/cache.html">cache_info()</a></code>.</p>
</div>
<div class="section level2">
<h2 class="unnumbered" id="session-information">Session information<a class="anchor" aria-label="anchor" href="#session-information"></a>
</h2>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; R version 4.4.2 (2024-10-31)</span></span>
<span><span class="co">#&gt; Platform: x86_64-pc-linux-gnu</span></span>
<span><span class="co">#&gt; Running under: Ubuntu 24.04.1 LTS</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Matrix products: default</span></span>
<span><span class="co">#&gt; BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">#&gt; LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; locale:</span></span>
<span><span class="co">#&gt;  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       </span></span>
<span><span class="co">#&gt;  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   </span></span>
<span><span class="co">#&gt;  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          </span></span>
<span><span class="co">#&gt; [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; time zone: UTC</span></span>
<span><span class="co">#&gt; tzcode source: system (glibc)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attached base packages:</span></span>
<span><span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; other attached packages:</span></span>
<span><span class="co">#&gt; [1] OLSr_0.0.4       dplyr_1.1.4      BiocStyle_2.34.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; loaded via a namespace (and not attached):</span></span>
<span><span class="co">#&gt;  [1] jsonlite_1.8.9       compiler_4.4.2       BiocManager_1.30.25 </span></span>
<span><span class="co">#&gt;  [4] BiocBaseUtils_1.8.0  tidyselect_1.2.1     tidyr_1.3.1         </span></span>
<span><span class="co">#&gt;  [7] jquerylib_0.1.4      systemfonts_1.2.1    textshaping_1.0.0   </span></span>
<span><span class="co">#&gt; [10] yaml_2.3.10          fastmap_1.2.0        R6_2.5.1            </span></span>
<span><span class="co">#&gt; [13] rjsoncons_1.3.1.9100 generics_0.1.3       curl_6.1.0          </span></span>
<span><span class="co">#&gt; [16] httr2_1.1.0          knitr_1.49           htmlwidgets_1.6.4   </span></span>
<span><span class="co">#&gt; [19] tibble_3.2.1         bookdown_0.42        desc_1.4.3          </span></span>
<span><span class="co">#&gt; [22] bslib_0.8.0          pillar_1.10.1        rlang_1.1.5         </span></span>
<span><span class="co">#&gt; [25] utf8_1.2.4           cachem_1.1.0         xfun_0.50           </span></span>
<span><span class="co">#&gt; [28] fs_1.6.5             sass_0.4.9           memoise_2.0.1       </span></span>
<span><span class="co">#&gt; [31] cli_3.6.3            withr_3.0.2          pkgdown_2.1.1       </span></span>
<span><span class="co">#&gt; [34] magrittr_2.0.3       digest_0.6.37        rappdirs_0.3.3      </span></span>
<span><span class="co">#&gt; [37] lifecycle_1.0.4      vctrs_0.6.5          evaluate_1.0.3      </span></span>
<span><span class="co">#&gt; [40] glue_1.8.0           ragg_1.3.3           purrr_1.0.2         </span></span>
<span><span class="co">#&gt; [43] rmarkdown_2.29       tools_4.4.2          pkgconfig_2.0.3     </span></span>
<span><span class="co">#&gt; [46] htmltools_0.5.8.1</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martin Morgan, Chan Zuckerberg Initiative DAF CZF2019-002443, NIH NCI ITCR U24CA180996.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
