[{"path":"https://mtmorgan.github.io/OLSr/articles/introduction.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Introduction to OLSr","text":"Install OLSr GitHub using remotes package. Attach library current session. functions OLSr return results tibble, dplyr package also attached.","code":"if (!\"remotes\" in rownames(installed.packages()))     install.packages(\"remotes\", repos = \"https://cran.r-project.org\") remotes::install_github(\"mtmorgan/OLSr\") library(OLSr)"},{"path":"https://mtmorgan.github.io/OLSr/articles/introduction.html","id":"ontologies","dir":"Articles","previous_headings":"","what":"Ontologies","title":"Introduction to OLSr","text":"Start discovering ontologies available OLS. vignette uses examples ontology title ‘Cell Ontology’, used CELLxGENE project classify cell types. Find record corresponding ontology, using glimpse() provide convenient view ontology description. Important information includes ‘id’ ontology (used many subsequent steps), ontology home page, number terms ontology. Information individual ontologies also available get_ontology(); record includes link ontology page OLS. home page good starting place understanding ontology visual interactive environment.","code":"onto <- get_ontologies() onto #> # A tibble: 249 × 31 #>    id        title          description version numberOfTerms numberOfProperties #>    <chr>     <chr>          <chr>       <chr>           <int>              <int> #>  1 ado       Alzheimer's D… Alzheimer'… 2.0.1            1963                186 #>  2 agro      Agronomy Onto… AgrO is an… NA               4162                293 #>  3 aism      Ontology for … The ontolo… 2023-0…          7443                547 #>  4 amphx     Amphioxus Dev… An ontolog… NA                403                 10 #>  5 apo       Ascomycete Ph… A structur… 2023-1…           619                 27 #>  6 apollo_sv Apollo Struct… An OWL2 on… 2023-0…          1691                366 #>  7 aro       Antibiotic Re… Antibiotic… NA               7105                 25 #>  8 bco       Biological Co… An ontolog… 2021-1…           253                472 #>  9 bfo       Basic Formal … The upper … NA                 35                 22 #> 10 bspo      Biological Sp… An ontolog… 2023-0…           169                236 #> # ℹ 239 more rows #> # ℹ 25 more variables: numberOfIndividuals <int>, languages <list>, #> #   loaded <chr>, updated <chr>, versionIri <chr>, namespace <chr>, #> #   preferredPrefix <chr>, homepage <chr>, mailingList <chr>, tracker <chr>, #> #   logo <lgl>, creators <lgl>, annotations <lgl>, fileLocation <chr>, #> #   oboSlims <lgl>, labelProperty <chr>, definitionProperties <list>, #> #   synonymProperties <list>, hierarchicalProperties <list>, baseUris <list>, … onto |>     filter(title == \"Cell Ontology\" ) |>     glimpse() #> Rows: 1 #> Columns: 31 #> $ id                     <chr> \"cl\" #> $ title                  <chr> \"Cell Ontology\" #> $ description            <chr> \"An ontology of cell types.\" #> $ version                <chr> \"2023-10-19\" #> $ numberOfTerms          <int> 16147 #> $ numberOfProperties     <int> 531 #> $ numberOfIndividuals    <int> 18 #> $ languages              <list> [\"en\"] #> $ loaded                 <chr> \"2023-11-17T15:58:01.309146828\" #> $ updated                <chr> \"2023-11-17T15:58:01.309146828\" #> $ versionIri             <chr> \"http://purl.obolibrary.org/obo/cl/releases/202… #> $ namespace              <chr> \"cl\" #> $ preferredPrefix        <chr> \"CL\" #> $ homepage               <chr> \"https://obophenotype.github.io/cell-ontology/\" #> $ mailingList            <chr> \"https://groups.google.com/g/cl_edit\" #> $ tracker                <chr> \"https://github.com/obophenotype/cell-ontology/… #> $ logo                   <lgl> NA #> $ creators               <lgl> NA #> $ annotations            <lgl> NA #> $ fileLocation           <chr> \"http://purl.obolibrary.org/obo/cl.owl\" #> $ oboSlims               <lgl> FALSE #> $ labelProperty          <chr> \"http://www.w3.org/2000/01/rdf-schema#label\" #> $ definitionProperties   <list> <NULL> #> $ synonymProperties      <list> <NULL> #> $ hierarchicalProperties <list> <NULL> #> $ baseUris               <list> <NULL> #> $ hiddenProperties       <list> <NULL> #> $ preferredRootTerms     <lgl> NA #> $ isSkos                 <lgl> FALSE #> $ allowDownload          <lgl> FALSE #> $ `_links`               <list> [[\"https://www.ebi.ac.uk/ols4/api/ontologies/cl… onto |>     filter(title == \"Cell Ontology\") |>     select(id, homepage, numberOfTerms) #> # A tibble: 1 × 3 #>   id    homepage                                      numberOfTerms #>   <chr> <chr>                                                 <int> #> 1 cl    https://obophenotype.github.io/cell-ontology/         16147 cl <- get_ontology(\"cl\") glimpse(cl) #> Rows: 1 #> Columns: 16 #> $ languages           <list> \"en\" #> $ lang                <chr> \"en\" #> $ ontologyId          <chr> \"cl\" #> $ loaded              <chr> \"2023-11-17T15:58:01.309146828\" #> $ updated             <chr> \"2023-11-17T15:58:01.309146828\" #> $ status              <chr> \"LOADED\" #> $ message             <chr> \"\" #> $ version             <chr> \"2023-10-19\" #> $ fileHash            <lgl> NA #> $ loadAttempts        <int> 0 #> $ numberOfTerms       <int> 16147 #> $ numberOfProperties  <int> 531 #> $ numberOfIndividuals <int> 18 #> $ config              <list> \"cl\" #> $ baseUris            <list> <NULL> #> $ `_links`            <list> [\"https://www.ebi.ac.uk/ols4/api/ontologies/cl?la…  cl |> pull(\"_links\") #> [[1]] #> [[1]]$href #> [1] \"https://www.ebi.ac.uk/ols4/api/ontologies/cl?lang=en\""},{"path":"https://mtmorgan.github.io/OLSr/articles/introduction.html","id":"terms","dir":"Articles","previous_headings":"","what":"Terms","title":"Introduction to OLSr","text":"Terms central using ontology. Retrieve terms ‘cl’ ontology. default, terms defined ontology per se used; add argument all_ontologies = TRUE subsequent functions also include terms referenced ontologies. query can take several minutes complete first executed, result cached locally (discussed greater detail ) subsequent use quick. Glimpse second term get sense available information.","code":"terms <- get_terms(\"cl\") terms #> # A tibble: 2,734 × 13 #>    label  obo_id description iri   synonyms annotation   has_children short_form #>    <chr>  <chr>  <chr>       <chr> <list>   <list>       <lgl>        <chr>      #>  1 cell   CL:00… A material… http… <NULL>   <named list> TRUE         CL_0000000 #>  2 prima… CL:00… A cultured… http… <list>   <named list> FALSE        CL_0000001 #>  3 fibro… CL:00… Any fibrob… http… <NULL>   <NULL>       TRUE         CL_0000005 #>  4 neuro… CL:00… NA          http… <list>   <NULL>       TRUE         CL_0000006 #>  5 early… CL:00… A cell fou… http… <NULL>   <NULL>       TRUE         CL_0000007 #>  6 migra… CL:00… Cell that … http… <NULL>   <NULL>       FALSE        CL_0000008 #>  7 cultu… CL:00… A cell in … http… <NULL>   <named list> TRUE         CL_0000010 #>  8 migra… CL:00… Cell that … http… <NULL>   <NULL>       FALSE        CL_0000011 #>  9 germ … CL:00… A stem cel… http… <list>   <named list> TRUE         CL_0000014 #> 10 male … CL:00… A germ cel… http… <NULL>   <named list> TRUE         CL_0000015 #> # ℹ 2,724 more rows #> # ℹ 5 more variables: in_subset <list>, obo_definition_citation <list>, #> #   obo_xref <list>, obo_synonym <list>, `_links` <list> terms |>     slice(1) |>     glimpse() #> Rows: 1 #> Columns: 13 #> $ label                   <chr> \"cell\" #> $ obo_id                  <chr> \"CL:0000000\" #> $ description             <chr> \"A material entity of anatomical origin (part … #> $ iri                     <chr> \"http://purl.obolibrary.org/obo/CL_0000000\" #> $ synonyms                <list> <NULL> #> $ annotation              <list> [[\"CALOHA:TS-2035\", \"FBbt:00007002\", \"FMA:6864… #> $ has_children            <lgl> TRUE #> $ short_form              <chr> \"CL_0000000\" #> $ in_subset               <list> [\"_upper_level\"] #> $ obo_definition_citation <list> [[\"A material entity of anatomical origin (par… #> $ obo_xref                <list> [[\"CALOHA\", \"TS-2035\", <NULL>, <NULL>], [\"FBbt… #> $ obo_synonym             <list> <NULL> #> $ `_links`                <list> [[\"https://www.ebi.ac.uk/ols4/api/ontologies/…"},{"path":"https://mtmorgan.github.io/OLSr/articles/introduction.html","id":"hierarchical-data","dir":"Articles","previous_headings":"Terms","what":"Hierarchical data","title":"Introduction to OLSr","text":"columns terms table represent hieararchical (relational, 1:many mapping) data, e.g., in_subset column Individual terms apparently belong 0 subsets. R Data Science chapter hierarchical data suggests using tidyr functions unnest_wider() unnest_longer() expand data. Defined subsets number terms can computed Use filter() helper function summarizes subsets individual terms identify human_reference_atlas subset. Using vapply() (rather , e.g., sapply()) can considered best practice, filter function guaranteed return scalar logical value regardless input length. 486 terms human_reference_atlas subset.","code":"terms |>     select(label, obo_id, in_subset) #> # A tibble: 2,734 × 3 #>    label                               obo_id     in_subset  #>    <chr>                               <chr>      <list>     #>  1 cell                                CL:0000000 <list [1]> #>  2 primary cultured cell               CL:0000001 <NULL>     #>  3 fibroblast neural crest derived     CL:0000005 <NULL>     #>  4 neuronal receptor cell              CL:0000006 <NULL>     #>  5 early embryonic cell (metazoa)      CL:0000007 <NULL>     #>  6 migratory cranial neural crest cell CL:0000008 <NULL>     #>  7 cultured cell                       CL:0000010 <NULL>     #>  8 migratory trunk neural crest cell   CL:0000011 <NULL>     #>  9 germ line stem cell                 CL:0000014 <NULL>     #> 10 male germ cell                      CL:0000015 <NULL>     #> # ℹ 2,724 more rows terms |>     count(lengths(in_subset)) #> # A tibble: 4 × 2 #>   `lengths(in_subset)`     n #>                  <int> <int> #> 1                    0  2091 #> 2                    1   579 #> 3                    2    61 #> 4                    3     3 terms |>     select(in_subset, obo_id, label) |>     tidyr::unnest_longer(in_subset) #> # A tibble: 710 × 3 #>    in_subset                     obo_id     label                     #>    <chr>                         <chr>      <chr>                     #>  1 _upper_level                  CL:0000000 cell                      #>  2 human_reference_atlas         CL:0000033 apocrine cell             #>  3 general_cell_types_upper_slim CL:0000034 stem cell                 #>  4 human_reference_atlas         CL:0000034 stem cell                 #>  5 human_reference_atlas         CL:0000036 epithelial fate stem cell #>  6 blood_and_immune_upper_slim   CL:0000037 hematopoietic stem cell   #>  7 human_reference_atlas         CL:0000037 hematopoietic stem cell   #>  8 blood_and_immune_upper_slim   CL:0000038 erythroid progenitor cell #>  9 general_cell_types_upper_slim CL:0000039 germ line cell            #> 10 _upper_level                  CL:0000039 germ line cell            #> # ℹ 700 more rows terms |>     tidyr::unnest_longer(in_subset) |>     count(in_subset, sort = TRUE) #> # A tibble: 8 × 2 #>   in_subset                         n #>   <chr>                         <int> #> 1 human_reference_atlas           486 #> 2 location_grouping                65 #> 3 BDS_subset                       64 #> 4 blood_and_immune_upper_slim      36 #> 5 eye_upper_slim                   24 #> 6 general_cell_types_upper_slim    24 #> 7 added_for_HCA                     8 #> 8 _upper_level                      3 is_human_reference_atlas <- function(x)     vapply(x, \\(x) any(x == \"human_reference_atlas\"), logical(1))  human_reference_atlas <-     terms |>     filter(is_human_reference_atlas(in_subset))  human_reference_atlas #> # A tibble: 486 × 13 #>    label  obo_id description iri   synonyms annotation   has_children short_form #>    <chr>  <chr>  <chr>       <chr> <list>   <list>       <lgl>        <chr>      #>  1 apocr… CL:00… An exocrin… http… <NULL>   <named list> FALSE        CL_0000033 #>  2 stem … CL:00… A relative… http… <list>   <named list> TRUE         CL_0000034 #>  3 epith… CL:00… NA          http… <list>   <named list> TRUE         CL_0000036 #>  4 hemat… CL:00… A stem cel… http… <list>   <named list> TRUE         CL_0000037 #>  5 matur… CL:00… A fully di… http… <list>   <named list> FALSE        CL_0000041 #>  6 commo… CL:00… A progenit… http… <list>   <named list> TRUE         CL_0000049 #>  7 megak… CL:00… A progenit… http… <list>   <named list> TRUE         CL_0000050 #>  8 commo… CL:00… A oligopot… http… <list>   <named list> TRUE         CL_0000051 #>  9 fibro… CL:00… A connecti… http… <NULL>   <named list> TRUE         CL_0000057 #> 10 epend… CL:00… A neurecto… http… <list>   <named list> TRUE         CL_0000065 #> # ℹ 476 more rows #> # ℹ 5 more variables: in_subset <list>, obo_definition_citation <list>, #> #   obo_xref <list>, obo_synonym <list>, `_links` <list>"},{"path":"https://mtmorgan.github.io/OLSr/articles/introduction.html","id":"individual-terms","dir":"Articles","previous_headings":"Terms","what":"Individual terms","title":"Introduction to OLSr","text":"Suppose interested B cells. Discover term labels starting \"B cell\", selecting useful fields display. subsequent work, create variable capturing obo_id \"B cell\" term. Slightly richer information individual terms available get_term(), using ontology id term obo_id keys.","code":"terms |>     filter(startsWith(label, \"B cell\")) |>     select(label, obo_id, description) #> # A tibble: 6 × 3 #>   label                                   obo_id     description                 #>   <chr>                                   <chr>      <chr>                       #> 1 B cell                                  CL:0000236 A lymphocyte of B lineage … #> 2 B cell, CD19-positive                   CL:0001201 A B cell that is CD19-posi… #> 3 B cell of appendix                      CL:0009032 A B cell that is located i… #> 4 B cell of medullary sinus of lymph node CL:0009045 A B cell found in the lymp… #> 5 B cell of anorectum                     CL:0009050 A B cell that is located i… #> 6 B cell zone reticular cell              CL:0009104 A fibroblastic reticular c… b_cell <-     terms |>     filter(label == \"B cell\") |>     pull(obo_id) get_term(\"cl\", b_cell) |>     glimpse() #> Rows: 1 #> Columns: 22 #> $ obo_id                  <chr> \"CL:0000236\" #> $ label                   <chr> \"B cell\" #> $ description             <chr> \"A lymphocyte of B lineage that is capable of … #> $ iri                     <chr> \"http://purl.obolibrary.org/obo/CL_0000236\" #> $ lang                    <chr> \"en\" #> $ synonyms                <list> [\"B lymphocyte\", \"B-cell\", \"B-lymphocyte\"] #> $ annotation              <list> [[\"BTO:0000776\", \"CALOHA:TS-0068\", \"FMA:62869\"… #> $ ontology_name           <chr> \"cl\" #> $ ontology_prefix         <chr> \"CL\" #> $ ontology_iri            <chr> \"http://purl.obolibrary.org/obo/cl.owl\" #> $ is_obsolete             <lgl> FALSE #> $ term_replaced_by        <lgl> NA #> $ is_defining_ontology    <lgl> TRUE #> $ has_children            <lgl> TRUE #> $ is_root                 <lgl> FALSE #> $ short_form              <chr> \"CL_0000236\" #> $ in_subset               <list> [\"blood_and_immune_upper_slim\", \"general_cell_… #> $ obo_definition_citation <list> [[\"A lymphocyte of B lineage that is capable o… #> $ obo_xref                <list> [[\"BTO\", \"0000776\", <NULL>, \"http://purl.oboli… #> $ obo_synonym             <lgl> NA #> $ is_preferred_root       <lgl> FALSE #> $ `_links`                <list> [[\"https://www.ebi.ac.uk/ols4/api/ontologies/…"},{"path":"https://mtmorgan.github.io/OLSr/articles/introduction.html","id":"relatives","dir":"Articles","previous_headings":"","what":"Relatives","title":"Introduction to OLSr","text":"functions get_parents() get_children() retrieve parent child terms individual terms; get_ancestors() get_descendants() return ancestors (root ontology) descendants (final term repreents leaf). B cells ancestors Ancestors descendants also contain in_subset column, groups easily filtered particlur subset, e.g., Terms without children descendants return tibble without rows.","code":"b_cell_ancestors <-     get_ancestors(\"cl\", b_cell) b_cell_ancestors |>     filter(is_human_reference_atlas(in_subset)) #> # A tibble: 3 × 14 #>   obo_id     label  description iri   synonyms annotation   has_children is_root #>   <chr>      <chr>  <chr>       <chr> <list>   <list>       <lgl>        <lgl>   #> 1 CL:0000945 lymph… A lymphocy… http… <NULL>   <named list> TRUE         FALSE   #> 2 CL:0000542 lymph… A lymphocy… http… <NULL>   <named list> TRUE         FALSE   #> 3 CL:0000738 leuko… An achroma… http… <list>   <named list> TRUE         FALSE   #> # ℹ 6 more variables: short_form <chr>, in_subset <list>, #> #   obo_definition_citation <list>, obo_xref <list>, obo_synonym <list>, #> #   `_links` <list> get_children(\"cl\", \"CL:0002350\") #> # A tibble: 0 × 0 get_descendants(\"cl\", \"CL:0002350\") #> # A tibble: 0 × 0"},{"path":"https://mtmorgan.github.io/OLSr/articles/introduction.html","id":"cache-management","dir":"Articles","previous_headings":"","what":"Cache management","title":"Introduction to OLSr","text":"OLSr uses -disk cache improve performance reliability. query OLS server cached first use, subsequent responses can read local disk. greatly increases performance, allows use previously retrieved resources -line. OLSr uses memoise cachem packages implement cache. disk cache implemented using cachem’s cache_disk() function using default cache size (1 Gb) \"lsu\" (‘least recently used’) eviction policy. Objects remain cache 30 days. risk using cache cache contains ‘old’ version response. Circumvent risk manually manipulating cache, e.g., removing objects known old. Use cache_directory() discover location cache. location follows conventions tools::R_user_dir(). files directory created OLSr. cache_info() convenience function summarize files cache. file represents response single memoised function call. file name hash function definition arguments; possible associate individual files specific function calls. Nonetheless, can informative identify files modified , say 1 day ago, recently modified file, perhaps total size files cache. special cases may useful invalidate cache using unlink() cache_directory(), invalidate particular records using unlink() file paths created using file.path(), cache_directory() individual file names cache_info().","code":"cache_directory() #> [1] \"/home/runner/.cache/R/OLSr\" cache_info() #> # A tibble: 60 × 5 #>    file         size mtime               ctime               atime               #>    <chr>       <dbl> <dttm>              <dttm>              <dttm>              #>  1 037c5ce6f… 120702 2023-11-20 20:34:59 2023-11-20 20:34:59 2023-11-20 20:34:59 #>  2 08a975d0c…  97541 2023-11-20 20:35:14 2023-11-20 20:35:14 2023-11-20 20:35:14 #>  3 0ebfde694… 240469 2023-11-20 20:34:45 2023-11-20 20:34:45 2023-11-20 20:34:45 #>  4 10fcec98a…  59484 2023-11-20 20:34:16 2023-11-20 20:34:16 2023-11-20 20:34:16 #>  5 19a51f853… 348350 2023-11-20 20:34:51 2023-11-20 20:34:51 2023-11-20 20:34:51 #>  6 19ca6868f…   3900 2023-11-20 20:35:24 2023-11-20 20:35:24 2023-11-20 20:35:24 #>  7 1a20e9bb9…  98686 2023-11-20 20:35:07 2023-11-20 20:35:07 2023-11-20 20:35:07 #>  8 1c4add961… 100883 2023-11-20 20:35:09 2023-11-20 20:35:09 2023-11-20 20:35:09 #>  9 218811c4b… 100723 2023-11-20 20:35:12 2023-11-20 20:35:12 2023-11-20 20:35:12 #> 10 23b568c07…  69711 2023-11-20 20:34:30 2023-11-20 20:34:30 2023-11-20 20:34:30 #> # ℹ 50 more rows ## cache objects modified in the last 24 hours cache_info() |>     filter(mtime > Sys.time() - 24 * 60 * 60) #> # A tibble: 60 × 5 #>    file         size mtime               ctime               atime               #>    <chr>       <dbl> <dttm>              <dttm>              <dttm>              #>  1 037c5ce6f… 120702 2023-11-20 20:34:59 2023-11-20 20:34:59 2023-11-20 20:34:59 #>  2 08a975d0c…  97541 2023-11-20 20:35:14 2023-11-20 20:35:14 2023-11-20 20:35:14 #>  3 0ebfde694… 240469 2023-11-20 20:34:45 2023-11-20 20:34:45 2023-11-20 20:34:45 #>  4 10fcec98a…  59484 2023-11-20 20:34:16 2023-11-20 20:34:16 2023-11-20 20:34:16 #>  5 19a51f853… 348350 2023-11-20 20:34:51 2023-11-20 20:34:51 2023-11-20 20:34:51 #>  6 19ca6868f…   3900 2023-11-20 20:35:24 2023-11-20 20:35:24 2023-11-20 20:35:24 #>  7 1a20e9bb9…  98686 2023-11-20 20:35:07 2023-11-20 20:35:07 2023-11-20 20:35:07 #>  8 1c4add961… 100883 2023-11-20 20:35:09 2023-11-20 20:35:09 2023-11-20 20:35:09 #>  9 218811c4b… 100723 2023-11-20 20:35:12 2023-11-20 20:35:12 2023-11-20 20:35:12 #> 10 23b568c07…  69711 2023-11-20 20:34:30 2023-11-20 20:34:30 2023-11-20 20:34:30 #> # ℹ 50 more rows  ## most recently modified file cache_info() |>     arrange(desc(mtime)) |>     slice(1) #> # A tibble: 1 × 5 #>   file          size mtime               ctime               atime               #>   <chr>        <dbl> <dttm>              <dttm>              <dttm>              #> 1 3e302746d76…   154 2023-11-20 20:35:32 2023-11-20 20:35:32 2023-11-20 20:35:32  ## total cache size cache_info() |>     summarize(size = sum(size)) |>     pull(size) |>     structure(class = \"object_size\") |>     format(units = \"auto\") #> [1] \"7.9 Mb\""},{"path":"https://mtmorgan.github.io/OLSr/articles/introduction.html","id":"session-information","dir":"Articles","previous_headings":"","what":"Session information","title":"Introduction to OLSr","text":"","code":"sessionInfo() #> R version 4.3.2 (2023-10-31) #> Platform: x86_64-pc-linux-gnu (64-bit) #> Running under: Ubuntu 22.04.3 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  #> LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so;  LAPACK version 3.10.0 #>  #> locale: #>  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        #>  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    #>  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           #> [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    #>  #> time zone: UTC #> tzcode source: system (glibc) #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] OLSr_0.0.1       dplyr_1.1.4      BiocStyle_2.28.1 #>  #> loaded via a namespace (and not attached): #>  [1] rappdirs_0.3.3       sass_0.4.7           utf8_1.2.4           #>  [4] generics_0.1.3       tidyr_1.3.0          stringi_1.8.1        #>  [7] hms_1.1.3            digest_0.6.33        magrittr_2.0.3       #> [10] evaluate_0.23        bookdown_0.36        fastmap_1.1.1        #> [13] rprojroot_2.0.4      jsonlite_1.8.7       progress_1.2.2       #> [16] BiocManager_1.30.22  purrr_1.0.2          fansi_1.0.5          #> [19] httr2_1.0.0          textshaping_0.3.7    jquerylib_0.1.4      #> [22] cli_3.6.1            rlang_1.1.2          crayon_1.5.2         #> [25] withr_2.5.2          cachem_1.0.8         yaml_2.3.7           #> [28] BiocBaseUtils_1.2.0  tools_4.3.2          memoise_2.0.1        #> [31] curl_5.1.0           vctrs_0.6.4          rjsoncons_1.0.0.9200 #> [34] R6_2.5.1             lifecycle_1.0.4      stringr_1.5.1        #> [37] fs_1.6.3             ragg_1.2.6           pkgconfig_2.0.3      #> [40] desc_1.4.2           pkgdown_2.0.7        pillar_1.9.0         #> [43] bslib_0.5.1          glue_1.6.2           systemfonts_1.0.5    #> [46] xfun_0.41            tibble_3.2.1         tidyselect_1.2.0     #> [49] knitr_1.45           htmltools_0.5.7      rmarkdown_2.25       #> [52] compiler_4.3.2       prettyunits_1.2.0"},{"path":"https://mtmorgan.github.io/OLSr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Martin Morgan. Author, maintainer. Chan Zuckerberg Initiative DAF CZF2019-002443. Funder. NIH NCI ITCR U24CA180996. Funder.","code":""},{"path":"https://mtmorgan.github.io/OLSr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Morgan M (2023). OLSr: Retrieving Information 'EBI' Ontology Lookup Service ('OLS'). R package version 0.0.1, https://mtmorgan.github.io/OLSr/.","code":"@Manual{,   title = {OLSr: Retrieving Information from the 'EBI' Ontology Lookup Service ('OLS')},   author = {Martin Morgan},   year = {2023},   note = {R package version 0.0.1},   url = {https://mtmorgan.github.io/OLSr/}, }"},{"path":"https://mtmorgan.github.io/OLSr/index.html","id":"olsr","dir":"","previous_headings":"","what":"Retrieving Information from the EBI Ontology Lookup Service (OLS)","title":"Retrieving Information from the EBI Ontology Lookup Service (OLS)","text":"Ontology Lookup Service (OLS) repository biomedical ontologies provided European Bioinformatics Institute (‘EMBL-EBI’). OLSr provides interface service, allowing discovery ontologies, terms, relations. Results presented ‘tidy’ framework, manipulation tasks easily accomplished verbs ‘filter()’, ‘select()’, ‘mutate()’. effort made integrate packages useful comprehensive biological ontological analysis.","code":""},{"path":"https://mtmorgan.github.io/OLSr/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Retrieving Information from the EBI Ontology Lookup Service (OLS)","text":"Install development version OLSr Attach installed package R session ","code":"if (!\"remotes\" in rownames(installed.packages()))     install.packages(\"remotes\", repos = \"https://cran.r-project.org\") devtools::install_github(\"mtmorgan/OLSr\") library(OLSr)"},{"path":"https://mtmorgan.github.io/OLSr/index.html","id":"use","dir":"","previous_headings":"","what":"Use","title":"Retrieving Information from the EBI Ontology Lookup Service (OLS)","text":"introductory vignette outlines common use cases, including Discovering ontologies available OLS. Retrieving terms within ontology Retrieving relatives (parents, ancestors, children, descendents) terms. OLSr uses cache minimize number calls OLS; introductory vignette includes short section discussing cache management.","code":""},{"path":"https://mtmorgan.github.io/OLSr/index.html","id":"next-steps","dir":"","previous_headings":"","what":"Next steps","title":"Retrieving Information from the EBI Ontology Lookup Service (OLS)","text":"See introductory vignette next steps.","code":""},{"path":"https://mtmorgan.github.io/OLSr/reference/cache.html","id":null,"dir":"Reference","previous_headings":"","what":"OLSr Cache Management — cache_directory","title":"OLSr Cache Management — cache_directory","text":"cache_directory() returns -disk location cache used OLSr. cache_info() summarizes information file cache. cache() returns object can used cache management.","code":""},{"path":"https://mtmorgan.github.io/OLSr/reference/cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OLSr Cache Management — cache_directory","text":"","code":"cache_directory()  cache_info()  cache()"},{"path":"https://mtmorgan.github.io/OLSr/reference/cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"OLSr Cache Management — cache_directory","text":"cache_directory() returns character(1) path location cache disk. cache_info() returns tibble columns summarizing file: file name cache entry. hash, based function signature, cached object. easily possible associate individual calls R file names. size size bytes cached object. mtime, ctime, atime: modification, creation last-access time file. cache() returns object defined cachem package.","code":""},{"path":"https://mtmorgan.github.io/OLSr/reference/cache.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"OLSr Cache Management — cache_directory","text":"OLSr uses -disk cache improve performance reliability. query OLS server cached first use, subsequent responses can read local disk. greatly increases performance, allows use previously retrieved resources -line. risk using cache cache contains 'old' version response. Circumvent risk manually manipulating cache, e.g., removing objects known old. OLSr uses memoise https://CRAN.R-project.org/package=memoise cachem https://CRAN.R-project.org/package=cachem packages implement cache. disk cache implemented using cachem's cache_disk() function using default cache size (1 Gb) \"lsu\" ('least recently used') eviction policy. Objects remain cache 30 days. cache created package-specific directory, located cache_directory(). See help page ?cache_disk information using object returned cache().","code":""},{"path":"https://mtmorgan.github.io/OLSr/reference/cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"OLSr Cache Management — cache_directory","text":"","code":"cache_directory() #> [1] \"/home/runner/.cache/R/OLSr\"  cache_info() #> # A tibble: 0 × 11 #> # ℹ 11 variables: file <chr>, size <dbl>, isdir <lgl>, mode <octmode>, #> #   mtime <dttm>, ctime <dttm>, atime <dttm>, uid <int>, gid <int>, #> #   uname <chr>, grname <chr>  ## cache objects created in the last 24 hours cache_info() |>     filter(mtime > Sys.time() - 24 * 60 * 60) #> # A tibble: 0 × 11 #> # ℹ 11 variables: file <chr>, size <dbl>, isdir <lgl>, mode <octmode>, #> #   mtime <dttm>, ctime <dttm>, atime <dttm>, uid <int>, gid <int>, #> #   uname <chr>, grname <chr>  if (FALSE) { ## remove the most recently modified object, forcing this to be recreated file_name <-     cache_info() |>     arrange(desc(mtime)) |>     slice(1) |>     pull(file) unlink(file.path(cache_directory(), file_name)) }  cache() #> <cache_disk> <cachem> #>   Methods: #>     get(key, missing = missing_) #>     set(key, value) #>     exists(key) #>     keys() #>     remove(key) #>     reset() #>     prune() #>     size() #>     destroy() #>     is_destroyed(throw = FALSE) #>     info()"},{"path":"https://mtmorgan.github.io/OLSr/reference/get.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Ontologies, Terms, and their Relatives — get_ontologies","title":"Retrieve Ontologies, Terms, and their Relatives — get_ontologies","text":"get_ontologies() queries OLS information available ontologies. get_ontology() retrieves information single ontology. get_roots() get_terms() return 'roots' terms ontology. get_term() returns tibble detailed information single term. get_parents(), get_ancestors(), get_children(), get_descendants() retrieve parents, ancestors, children descedants single term.","code":""},{"path":"https://mtmorgan.github.io/OLSr/reference/get.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Ontologies, Terms, and their Relatives — get_ontologies","text":"","code":"get_ontologies()  get_ontology(ontology)  get_roots(ontology)  get_terms(ontology, all_ontologies = FALSE)  get_term(ontology, id, form = c(\"id\", \"obo_id\", \"short_form\", \"iri\"))  get_parents(ontology, id, all_ontologies = FALSE)  get_ancestors(ontology, id, all_ontologies = FALSE)  get_children(ontology, id, all_ontologies = FALSE)  get_descendants(ontology, id, all_ontologies = FALSE)"},{"path":"https://mtmorgan.github.io/OLSr/reference/get.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Ontologies, Terms, and their Relatives — get_ontologies","text":"ontology character(1) id (get_ontologies()) ontology interst. all_ontologies logical(1) FALSE (default), terms, parents, etc., defined ontology returned. TRUE, terms ontologies associated terms ontology returned. id character(1) term identifier, usually 'obo_id' (e.g., \"CL:0002494\") get_term() specified form. form character(1) form identifier, describe Details.","code":""},{"path":"https://mtmorgan.github.io/OLSr/reference/get.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Ontologies, Terms, and their Relatives — get_ontologies","text":"get_*() functions return tibbles summarizing information retrieved OLS. meaning individual columns service; columns renamed, re-ordered prioritize useful information.","code":""},{"path":"https://mtmorgan.github.io/OLSr/reference/get.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Retrieve Ontologies, Terms, and their Relatives — get_ontologies","text":"functions documented page provide programmatic interface EMBL-EBI Ontology Lookup Service https://www.ebi.ac.uk/ols4/. API described https://www.ebi.ac.uk/ols4/help functions use -disk cache results retrieved internet speed interactive analysis. Generally, initial queries 'slow', subsequent identical queries fast. Details cache, edge cases cache can get way current results, strategies cache management summarized 'Cache Management' section vignette. attempt simplify navigation results, values returned API calls presented tibble invariant columns removed. Data returned OLS often hierarchical, resulting list columns tibble. cases (e.g., get_ontologies()) list columns un-nested (using tidyr::unnest_wider()) provide users relevant information. Downstream processing steps may also find beneficial understand 'tidy' approaches working hierarchical data tibbles, outlined chapter 23 'R Data Science' (2e), https://r4ds.hadley.nz/rectangling. illustrated \"Hierarchical Data\" section vignette. get_term(), identifier id can one three forms. id obo_id forms synonyms follow pattern ontology abbrevation, :, term id, e.g., \"CL:0002494\". short_form typically like obo_id : replaced _. iri purl resource locator, typically \"http://purl.obolibrary.org/...\". relatives found, get_parents() etc. return tibble 0 rows (sometimes 0 columns).","code":""},{"path":"https://mtmorgan.github.io/OLSr/reference/get.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Ontologies, Terms, and their Relatives — get_ontologies","text":"","code":"onto <- get_ontologies() onto #> # A tibble: 249 × 31 #>    id        title          description version numberOfTerms numberOfProperties #>    <chr>     <chr>          <chr>       <chr>           <int>              <int> #>  1 ado       Alzheimer's D… Alzheimer'… 2.0.1            1963                186 #>  2 agro      Agronomy Onto… AgrO is an… NA               4162                293 #>  3 aism      Ontology for … The ontolo… 2023-0…          7443                547 #>  4 amphx     Amphioxus Dev… An ontolog… NA                403                 10 #>  5 apo       Ascomycete Ph… A structur… 2023-1…           619                 27 #>  6 apollo_sv Apollo Struct… An OWL2 on… 2023-0…          1691                366 #>  7 aro       Antibiotic Re… Antibiotic… NA               7105                 25 #>  8 bco       Biological Co… An ontolog… 2021-1…           253                472 #>  9 bfo       Basic Formal … The upper … NA                 35                 22 #> 10 bspo      Biological Sp… An ontolog… 2023-0…           169                236 #> # ℹ 239 more rows #> # ℹ 25 more variables: numberOfIndividuals <int>, languages <list>, #> #   loaded <chr>, updated <chr>, versionIri <chr>, namespace <chr>, #> #   preferredPrefix <chr>, homepage <chr>, mailingList <chr>, tracker <chr>, #> #   logo <lgl>, creators <lgl>, annotations <lgl>, fileLocation <chr>, #> #   oboSlims <lgl>, labelProperty <chr>, definitionProperties <list>, #> #   synonymProperties <list>, hierarchicalProperties <list>, baseUris <list>, …   get_ontology(\"cl\") |>     glimpse() #> Rows: 1 #> Columns: 16 #> $ languages           <list> \"en\" #> $ lang                <chr> \"en\" #> $ ontologyId          <chr> \"cl\" #> $ loaded              <chr> \"2023-11-17T15:58:01.309146828\" #> $ updated             <chr> \"2023-11-17T15:58:01.309146828\" #> $ status              <chr> \"LOADED\" #> $ message             <chr> \"\" #> $ version             <chr> \"2023-10-19\" #> $ fileHash            <lgl> NA #> $ loadAttempts        <int> 0 #> $ numberOfTerms       <int> 16147 #> $ numberOfProperties  <int> 531 #> $ numberOfIndividuals <int> 18 #> $ config              <list> \"cl\" #> $ baseUris            <list> <NULL> #> $ `_links`            <list> [\"https://www.ebi.ac.uk/ols4/api/ontologies/cl?la…  get_roots(\"cl\") #> # A tibble: 130 × 13 #>    obo_id    label description iri   synonyms annotation has_children short_form #>    <chr>     <chr> <chr>       <chr> <list>   <list>     <lgl>        <chr>      #>  1 BFO:0000… cont… An entity … http… <NULL>   <NULL>     TRUE         BFO_00000… #>  2 BFO:0000… occu… An entity … http… <NULL>   <NULL>     TRUE         BFO_00000… #>  3 CARO:000… CARO… NA          http… <NULL>   <NULL>     TRUE         CARO_0000… #>  4 CHEBI:14… CHEB… NA          http… <NULL>   <NULL>     FALSE        CHEBI_143… #>  5 CHEBI:15… CHEB… NA          http… <NULL>   <NULL>     FALSE        CHEBI_153… #>  6 CHEBI:15… CHEB… NA          http… <NULL>   <NULL>     FALSE        CHEBI_153… #>  7 CHEBI:15… CHEB… NA          http… <NULL>   <NULL>     FALSE        CHEBI_153… #>  8 CHEBI:15… CHEB… NA          http… <NULL>   <NULL>     FALSE        CHEBI_153… #>  9 CHEBI:15… CHEB… NA          http… <NULL>   <NULL>     FALSE        CHEBI_154… #> 10 CHEBI:16… CHEB… NA          http… <NULL>   <NULL>     FALSE        CHEBI_163… #> # ℹ 120 more rows #> # ℹ 5 more variables: in_subset <list>, obo_definition_citation <list>, #> #   obo_xref <list>, obo_synonym <list>, `_links` <list>  terms <- get_terms(\"cl\") terms #> # A tibble: 2,734 × 13 #>    label  obo_id description iri   synonyms annotation   has_children short_form #>    <chr>  <chr>  <chr>       <chr> <list>   <list>       <lgl>        <chr>      #>  1 cell   CL:00… A material… http… <NULL>   <named list> TRUE         CL_0000000 #>  2 prima… CL:00… A cultured… http… <list>   <named list> FALSE        CL_0000001 #>  3 fibro… CL:00… Any fibrob… http… <NULL>   <NULL>       TRUE         CL_0000005 #>  4 neuro… CL:00… NA          http… <list>   <NULL>       TRUE         CL_0000006 #>  5 early… CL:00… A cell fou… http… <NULL>   <NULL>       TRUE         CL_0000007 #>  6 migra… CL:00… Cell that … http… <NULL>   <NULL>       FALSE        CL_0000008 #>  7 cultu… CL:00… A cell in … http… <NULL>   <named list> TRUE         CL_0000010 #>  8 migra… CL:00… Cell that … http… <NULL>   <NULL>       FALSE        CL_0000011 #>  9 germ … CL:00… A stem cel… http… <list>   <named list> TRUE         CL_0000014 #> 10 male … CL:00… A germ cel… http… <NULL>   <named list> TRUE         CL_0000015 #> # ℹ 2,724 more rows #> # ℹ 5 more variables: in_subset <list>, obo_definition_citation <list>, #> #   obo_xref <list>, obo_synonym <list>, `_links` <list>  CL0002494 <- get_term(\"cl\", \"CL:0002494\") CL0002494 |>     glimpse() #> Rows: 1 #> Columns: 22 #> $ obo_id                  <chr> \"CL:0002494\" #> $ label                   <chr> \"cardiocyte\" #> $ description             <chr> \"A cell located in the heart, including both m… #> $ iri                     <chr> \"http://purl.obolibrary.org/obo/CL_0002494\" #> $ lang                    <chr> \"en\" #> $ synonyms                <list> [\"heart cell\"] #> $ annotation              <list> [[\"https://orcid.org/0000-0003-1980-3228\"], [\"… #> $ ontology_name           <chr> \"cl\" #> $ ontology_prefix         <chr> \"CL\" #> $ ontology_iri            <chr> \"http://purl.obolibrary.org/obo/cl.owl\" #> $ is_obsolete             <lgl> FALSE #> $ term_replaced_by        <lgl> NA #> $ is_defining_ontology    <lgl> TRUE #> $ has_children            <lgl> TRUE #> $ is_root                 <lgl> FALSE #> $ short_form              <chr> \"CL_0002494\" #> $ in_subset               <lgl> NA #> $ obo_definition_citation <list> [[\"A cell located in the heart, including both… #> $ obo_xref                <list> [[\"BTO\", \"0001539\", <NULL>, \"http://purl.oboli… #> $ obo_synonym             <lgl> NA #> $ is_preferred_root       <lgl> FALSE #> $ `_links`                <list> [[\"https://www.ebi.ac.uk/ols4/api/ontologies/c…  get_parents(\"cl\", \"CL:0002350\") #> # A tibble: 1 × 14 #>   obo_id     label  description iri   synonyms annotation   has_children is_root #>   <chr>      <chr>  <chr>       <chr> <lgl>    <list>       <lgl>        <lgl>   #> 1 CL:0010008 cardi… NA          http… NA       <named list> TRUE         FALSE   #> # ℹ 6 more variables: short_form <chr>, in_subset <list>, #> #   obo_definition_citation <lgl>, obo_xref <lgl>, obo_synonym <lgl>, #> #   `_links` <list>  get_ancestors(\"cl\", \"CL:0002494\") #> # A tibble: 1 × 14 #>   obo_id     label description  iri   synonyms annotation   has_children is_root #>   <chr>      <chr> <chr>        <chr> <list>   <list>       <lgl>        <lgl>   #> 1 CL:0000000 cell  A material … http… <NULL>   <named list> TRUE         FALSE   #> # ℹ 6 more variables: short_form <chr>, in_subset <list>, #> #   obo_definition_citation <list>, obo_xref <list>, obo_synonym <list>, #> #   `_links` <list> get_ancestors(\"cl\", \"CL:0002350\") #> # A tibble: 8 × 14 #>   obo_id     label  description iri   synonyms annotation   has_children is_root #>   <chr>      <chr>  <chr>       <chr> <list>   <list>       <lgl>        <lgl>   #> 1 CL:0010008 cardi… NA          http… <NULL>   <named list> TRUE         FALSE   #> 2 CL:0000115 endot… An endothe… http… <list>   <named list> TRUE         FALSE   #> 3 CL:0000213 linin… A cell wit… http… <list>   <NULL>       TRUE         FALSE   #> 4 CL:0000215 barri… A cell who… http… <NULL>   <NULL>       TRUE         FALSE   #> 5 CL:0000000 cell   A material… http… <NULL>   <named list> TRUE         FALSE   #> 6 CL:0002078 meso-… Epithelial… http… <list>   <named list> TRUE         FALSE   #> 7 CL:0000066 epith… A cell tha… http… <list>   <named list> TRUE         FALSE   #> 8 CL:0002494 cardi… A cell loc… http… <list>   <named list> TRUE         FALSE   #> # ℹ 6 more variables: short_form <chr>, in_subset <list>, #> #   obo_definition_citation <list>, obo_xref <list>, obo_synonym <list>, #> #   `_links` <list>  get_children(\"cl\", \"CL:0002494\") #> # A tibble: 12 × 14 #>    obo_id     label description iri   synonyms annotation   has_children is_root #>    <chr>      <chr> <chr>       <chr> <list>   <list>       <lgl>        <lgl>   #>  1 CL:2000022 card… Any native… http… <NULL>   <named list> TRUE         FALSE   #>  2 CL:1000147 card… A cell tha… http… <list>   <NULL>       TRUE         FALSE   #>  3 CL:0011019 meso… A mesothel… http… <NULL>   <named list> FALSE        FALSE   #>  4 CL:0010020 card… NA          http… <NULL>   <NULL>       FALSE        FALSE   #>  5 CL:0010008 card… NA          http… <NULL>   <named list> TRUE         FALSE   #>  6 CL:0010007 His-… NA          http… <NULL>   <NULL>       TRUE         FALSE   #>  7 CL:0008022 endo… A mesenchy… http… <NULL>   <NULL>       FALSE        FALSE   #>  8 CL:0002592 smoo… A smooth m… http… <NULL>   <named list> FALSE        FALSE   #>  9 CL:0002548 fibr… A fibrobla… http… <list>   <named list> TRUE         FALSE   #> 10 CL:0000746 card… Cardiac mu… http… <list>   <named list> TRUE         FALSE   #> 11 CL:0000513 card… A precurso… http… <list>   <named list> FALSE        FALSE   #> 12 CL:1000309 epic… A fat cell… http… <list>   <named list> TRUE         FALSE   #> # ℹ 6 more variables: short_form <chr>, in_subset <list>, #> #   obo_definition_citation <list>, obo_xref <list>, obo_synonym <list>, #> #   `_links` <list> get_children(\"cl\", \"CL:0002350\")    # no children, 0 x 0 tibble #> # A tibble: 0 × 0  get_descendants(\"cl\", \"CL:0002494\") #> # A tibble: 68 × 14 #>    obo_id     label description iri   synonyms annotation   has_children is_root #>    <chr>      <chr> <chr>       <chr> <list>   <list>       <lgl>        <lgl>   #>  1 CL:1000309 epic… A fat cell… http… <list>   <named list> TRUE         FALSE   #>  2 CL:1000310 adip… A fat cell… http… <list>   <named list> FALSE        FALSE   #>  3 CL:1000311 adip… A fat cell… http… <list>   <named list> FALSE        FALSE   #>  4 CL:0000513 card… A precurso… http… <list>   <named list> FALSE        FALSE   #>  5 CL:0000746 card… Cardiac mu… http… <list>   <named list> TRUE         FALSE   #>  6 CL:0000193 card… A striated… http… <NULL>   <NULL>       FALSE        FALSE   #>  7 CL:0002086 spec… A cardiac … http… <NULL>   <named list> TRUE         FALSE   #>  8 CL:0002068 Purk… Specialize… http… <list>   <named list> TRUE         FALSE   #>  9 CL:1000483 Purk… A Purkinje… http… <NULL>   <named list> FALSE        FALSE   #> 10 CL:1000484 Purk… A Purkinje… http… <NULL>   <named list> FALSE        FALSE   #> # ℹ 58 more rows #> # ℹ 6 more variables: short_form <chr>, in_subset <list>, #> #   obo_definition_citation <list>, obo_xref <list>, obo_synonym <list>, #> #   `_links` <list> get_descendants(\"cl\", \"CL:0002350\") # no descedants, 0 x 0 tibble #> # A tibble: 0 × 0"},{"path":"https://mtmorgan.github.io/OLSr/news/index.html","id":"olsr-001","dir":"Changelog","previous_headings":"","what":"OLSr 0.0.1","title":"OLSr 0.0.1","text":"(0.0.1) Initial version, ontology, term, relative retrieval, documentation, vignettes, README, NEWS, associated pkgdown site.","code":""}]
